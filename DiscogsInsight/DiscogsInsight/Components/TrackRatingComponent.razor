@using DiscogsInsight.Service.Models.Collection
@using DiscogsInsight.Service.Models.EntityViewModels
@using DiscogsInsight.Service.Models;
@inject TracksViewService TracksViewService;
@inject IJSRuntime JS
@inject NavigationManager NavigationManager
@inject IBrowserViewportService ViewportService

<MudRating SelectedValue="Track.Rating" SelectedValueChanged="SetRating" Size="Size.Small" />

@code
{
    [Parameter]
    public TracksItemViewModel Track { get; set; } = new TracksItemViewModel();


    private async Task SetRating(int rating)
    {
        Track.Rating = rating;
        await TracksViewService.SetRatingOnTrack(rating, Track.DiscogsReleaseId, Track.Title);
    }
}
