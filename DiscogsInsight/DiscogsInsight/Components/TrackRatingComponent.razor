@using DiscogsInsight.ViewModels.Collection
@using DiscogsInsight.ViewModels.EntityViewModels
@using DiscogsInsight.ViewModels;
@using DiscogsInsight.Service.Services.Tracks;
@inject TracksViewService TracksViewService;
@inject IJSRuntime JS
@inject NavigationManager NavigationManager
@inject IBrowserViewportService ViewportService

<MudRating SelectedValue="Track.Rating" SelectedValueChanged="SetRating" Size="Size.Small" />

@code
{
    [Parameter]
    public TracksItemViewModel Track { get; set; } = new TracksItemViewModel();


    private async Task SetRating(int rating)
    {
        Track.Rating = rating;
        await TracksViewService.SetRatingOnTrack(rating, Track.DiscogsReleaseId, Track.Title);
    }
}
