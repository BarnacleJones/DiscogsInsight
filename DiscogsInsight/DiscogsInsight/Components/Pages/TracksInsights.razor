@page "/tracksInsights"
@* 

                //No point in these metrics. The number of releases actually getting musicbrainz track data and lengths is low
                //Keeping code bones for when the idea of what to do here comes



@using DiscogsInsight.Service.Collection
@using DiscogsInsight.Service.Insights
@using DiscogsInsight.Service.Models
@using DiscogsInsight.Service.Models.Insights
@using DiscogsInsight.Service.Models.Results
@inject TracksInsightsViewService TrackInsightsViewService
@inject UserNotificationService UserNotificationService
@inject NavigationManager NavigationManager *@

        
@* @if (_tracksInsightsStats != null)
{
    <MudStack AlignItems="MudBlazor.AlignItems.Center" Elevation="0">
        <MudText Typo="Typo.h5">Tracks Insights</MudText>
        <MudSpacer />
        <MudList>
            <MudListItem>
                <MudText Typo="Typo.body2">Average Track Length</MudText>
                <MudSpacer />
                <MudText Typo="Typo.body1">@_tracksInsightsStats.AverageTrackLength</MudText>
            </MudListItem>
            <MudListItem>
                <MudText Typo="Typo.body2">Average Tracks Per Release</MudText>
                <MudSpacer />
                <MudText Typo="Typo.body1">@_tracksInsightsStats.AverageTracksPerRelease</MudText>
            </MudListItem>
        </MudList>
    </MudStack>
}
else
{ *@
    <LoadingComponent />
@* } *@

@code{
    //private TracksInsightsStatsViewModel? _tracksInsightsStats;


    // protected override async Task OnInitializedAsync()
    // {        
    //     //HandleStatisticsResult(await TrackInsightsViewService.GetTracksStatistics());

    // }

    // private async void HandleStatisticsResult(ViewResult<TracksInsightsStatsViewModel> result)
    // {
    //     if (result.Success)
    //         _tracksInsightsStats = result.Data;
    //     else
    //         await UserNotificationService.DisplayNotification("Error", $"{result.ErrorMessage}", "OK", "Cancel");
    // }
}